# æ¶æ„é‡æ„åˆæ­¥å‘ç°

> **ç”Ÿæˆæ—¶é—´**: 2025-02-17
> **åˆ†æèŒƒå›´**: Sisyphus-X é¡¹ç›®æ•´ä½“æ¶æ„

---

## ğŸ“Š é¡¹ç›®ç°çŠ¶æ¦‚è§ˆ

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React 19.2 + TypeScript 5.9 + Vite 7.2 + Tailwind CSS + React Query v5
- **åç«¯**: FastAPI 0.115+ + SQLModel + PostgreSQL/SQLite + Alembic
- **æµ‹è¯•**: pytest (åç«¯), Playwright (E2E)
- **AI**: LangGraph + LangChain + Anthropic Claude

---

## ğŸ—‚ï¸ å½“å‰ç›®å½•ç»“æ„

### Backend (`backend/`)
```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/v1/          # API è·¯ç”±å±‚
â”‚   â”œâ”€â”€ core/            # æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ schemas/         # Pydantic schemas
â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ai/          # AI æœåŠ¡
â”‚   â”‚   â””â”€â”€ execution/   # æ‰§è¡ŒæœåŠ¡
â”‚   â”œâ”€â”€ tasks/           # åå°ä»»åŠ¡
â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ engines/             # ç‹¬ç«‹æµ‹è¯•å¼•æ“
â”‚   â””â”€â”€ Sisyphus-api-engine/
â”œâ”€â”€ tests/               # åç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ models/
â”‚   â””â”€â”€ services/
â”œâ”€â”€ alembic/             # æ•°æ®åº“è¿ç§»
â””â”€â”€ migrations/          # è¿ç§»å†å²
```

**æ¶æ„ç‰¹ç‚¹**:
- âœ… åˆ†å±‚æ¸…æ™°: API â†’ Services â†’ Models
- âš ï¸ ç¼ºå°‘ Domain å±‚,ä¸šåŠ¡é€»è¾‘æ•£è½åœ¨ services å’Œ endpoints ä¸­
- âš ï¸ æ— æ˜ç¡®çš„ä»“å‚¨æ¥å£,ç›´æ¥ä½¿ç”¨ SQLModel
- âš ï¸ AI æœåŠ¡å’Œä¸šåŠ¡æœåŠ¡è€¦åˆ

### Frontend (`frontend/src/`)
```
frontend/src/
â”œâ”€â”€ api/                # API å®¢æˆ·ç«¯
â”œâ”€â”€ components/         # ç»„ä»¶
â”‚   â”œâ”€â”€ business/      # ä¸šåŠ¡ç»„ä»¶
â”‚   â”œâ”€â”€ common/        # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ examples/      # ç¤ºä¾‹ç»„ä»¶
â”‚   â”œâ”€â”€ execution/     # æ‰§è¡Œç›¸å…³
â”‚   â”œâ”€â”€ keyword/       # å…³é”®å­—ç›¸å…³
â”‚   â”œâ”€â”€ layout/        # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ testcase/      # æµ‹è¯•ç”¨ä¾‹ç»„ä»¶
â”‚   â””â”€â”€ ui/            # UI åŸºç¡€ç»„ä»¶ (shadcn)
â”œâ”€â”€ pages/             # é¡µé¢
â”‚   â”œâ”€â”€ api-automation/
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ cases/
â”‚   â”œâ”€â”€ environments/
â”‚   â”œâ”€â”€ functional-test/
â”‚   â”œâ”€â”€ global-params/
â”‚   â”œâ”€â”€ interface/
â”‚   â”œâ”€â”€ interface-management/
â”‚   â”œâ”€â”€ keywords/
â”‚   â”œâ”€â”€ plans/
â”‚   â”œâ”€â”€ reports/
â”‚   â””â”€â”€ scenario/
â”œâ”€â”€ config/            # é…ç½®
â”œâ”€â”€ contexts/          # React Context
â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ hooks
â”œâ”€â”€ i18n/              # å›½é™…åŒ–
â”œâ”€â”€ lib/               # å·¥å…·åº“
â”œâ”€â”€ stores/            # çŠ¶æ€ç®¡ç†
â””â”€â”€ types/             # TypeScript ç±»å‹
```

**æ¶æ„ç‰¹ç‚¹**:
- âœ… ç»„ä»¶åˆ†ç±»æ¸…æ™° (business/common/ui)
- âš ï¸ æŒ‰ç±»å‹ç»„ç»‡,ç¼ºå°‘æŒ‰åŠŸèƒ½åŸŸçš„æ¨¡å—åŒ–
- âš ï¸ pages/ ä¸‹ç›®å½•è¾ƒå¤š,ç¼ºå°‘ç»Ÿä¸€çš„åˆ’åˆ†æ ‡å‡†
- âš ï¸ stores/ å’Œ contexts/ çŠ¶æ€ç®¡ç†èŒè´£ä¸æ¸…

### æµ‹è¯•ç›®å½•
```
tests_white/  # âŒ ä¸å­˜åœ¨
tests_black/  # âŒ ä¸å­˜åœ¨
backend/tests/  # âœ… å­˜åœ¨
```

**é—®é¢˜**:
- âŒ æ²¡æœ‰ `tests_white/` å’Œ `tests_black/` ç›®å½•
- âš ï¸ åç«¯æµ‹è¯•æ··åœ¨ `backend/tests/` ä¸­
- âš ï¸ ç¼ºå°‘ä¸“é—¨çš„ E2E æµ‹è¯•ç›®å½•

---

## ğŸš¨ å‘ç°çš„å†—ä½™æ–‡ä»¶

### Git å·²åˆ é™¤çš„æ–‡æ¡£ (å¯å®‰å…¨æ¸…ç†)
```bash
docs/README.md
docs/äº§å“è·¯çº¿å›¾.md
docs/ä»»åŠ¡è§„åˆ’.json.bak
docs/ä»»åŠ¡è§„åˆ’.json.bak-20260217-200643
docs/ä»»åŠ¡è§„åˆ’.json.old
docs/åŠŸèƒ½çŠ¶æ€è·Ÿè¸ª.md
docs/é—ç•™é—®é¢˜.md
docs/æ¶æ„æ£€æŸ¥æŠ¥å‘Š.md
```

### å¤‡ä»½æ–‡ä»¶ (*.bak)
```bash
backend/tests/models/test_project.py.bak
backend/app/api/v1/endpoints/interface_folders.py.bak
backend/app/api/v1/endpoints/interfaces.py.bak
backend/app/api/v1/endpoints/environments.py.bak
frontend/src/pages/interface/InterfaceEditor.tsx.bak
```

### æ— ä¸´æ—¶æ–‡ä»¶ (*.tmp, *.old)
- âœ… é¡¹ç›®æ•´ä½“è¾ƒå¹²å‡€

---

## ğŸ¯ æ¶æ„é—®é¢˜æ€»ç»“

### åç«¯é—®é¢˜
1. **ç¼ºå°‘é¢†åŸŸå±‚** - ä¸šåŠ¡é€»è¾‘æ•£è½åœ¨ services å’Œ endpoints
2. **æ— ä»“å‚¨æŠ½è±¡** - ç›´æ¥ä½¿ç”¨ SQLModel,éš¾ä»¥æµ‹è¯•
3. **æœåŠ¡å±‚æ··ä¹±** - ai/ å’Œ execution/ èŒè´£ä¸æ¸…
4. **ç¼ºå°‘ç”¨ä¾‹å±‚** - ä¸šåŠ¡æµç¨‹ç¼–æ’ä¸æ˜ç¡®

### å‰ç«¯é—®é¢˜
1. **æŒ‰ç±»å‹ç»„ç»‡** - ä¸åˆ©äºåŠŸèƒ½æ¨¡å—çš„ç‹¬ç«‹æ€§
2. **pages/ è¿‡äºæ‰å¹³** - ç¼ºå°‘ widgets/features åˆ†å±‚
3. **çŠ¶æ€ç®¡ç†æ··ä¹±** - stores/ å’Œ contexts/ èŒè´£ä¸æ¸…
4. **ç¼ºå°‘å…±äº«å±‚è®¾è®¡** - shared/ æ¦‚å¿µä¸æ˜ç¡®

### æµ‹è¯•é—®é¢˜
1. **æµ‹è¯•ç›®å½•ç¼ºå¤±** - tests_white/ å’Œ tests_black/ ä¸å­˜åœ¨
2. **åç«¯æµ‹è¯•åˆ†æ•£** - éœ€è¦æŒ‰æ¨¡å—é‡æ–°ç»„ç»‡
3. **ç¼ºå°‘ E2E æµ‹è¯•** - æ²¡æœ‰ä¸“é—¨çš„é»‘ç›’æµ‹è¯•ç›®å½•

---

## âœ… å»ºè®®çš„æ”¹è¿›æ–¹å‘

### åç«¯ - Clean Architecture
```
backend/app/
â”œâ”€â”€ domain/              # é¢†åŸŸå±‚
â”‚   â”œâ”€â”€ entities/       # å®ä½“
â”‚   â”œâ”€â”€ value_objects/  # å€¼å¯¹è±¡
â”‚   â””â”€â”€ interfaces/     # ä»“å‚¨æ¥å£
â”œâ”€â”€ use_cases/          # ç”¨ä¾‹å±‚
â”œâ”€â”€ adapters/           # é€‚é…å™¨å±‚
â”‚   â”œâ”€â”€ repositories/   # ä»“å‚¨å®ç°
â”‚   â”œâ”€â”€ controllers/    # æ§åˆ¶å™¨
â”‚   â””â”€â”€ gateways/       # å¤–éƒ¨æœåŠ¡
â””â”€â”€ infrastructure/     # åŸºç¡€è®¾æ–½
    â”œâ”€â”€ database/
    â”œâ”€â”€ config/
    â””â”€â”€ logging/
```

### å‰ç«¯ - Feature-Sliced Design
```
frontend/src/
â”œâ”€â”€ pages/              # é¡µé¢å±‚
â”œâ”€â”€ widgets/            # ç»„åˆç»„ä»¶
â”œâ”€â”€ features/           # ä¸šåŠ¡åŠŸèƒ½
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ projects/
â”‚   â”œâ”€â”€ api-automation/
â”‚   â””â”€â”€ scenario/
â”œâ”€â”€ entities/           # ä¸šåŠ¡å®ä½“
â”‚   â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ project/
â”‚   â””â”€â”€ test-case/
â””â”€â”€ shared/             # å…±äº«èµ„æº
    â”œâ”€â”€ ui/
    â”œâ”€â”€ config/
    â”œâ”€â”€ api/
    â””â”€â”€ lib/
```

### æµ‹è¯• - åˆ†å±‚ç»„ç»‡
```
tests_white/
â”œâ”€â”€ unit/               # å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration/        # é›†æˆæµ‹è¯•
â””â”€â”€ api/                # API æ¥å£æµ‹è¯•

tests_black/
â”œâ”€â”€ e2e/                # E2E æµ‹è¯• (Playwright)
â”œâ”€â”€ functional/         # åŠŸèƒ½æµ‹è¯•
â””â”€â”€ test-data/          # æµ‹è¯•æ•°æ®
```

---

## ğŸ“‹ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… **æ¶æ„åˆ†æä¸“å®¶** - æ·±å…¥åˆ†æå½“å‰æ¶æ„,ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
2. âœ… **åç«¯æ¶æ„å¸ˆ** - è®¾è®¡ Clean Architecture æ–¹æ¡ˆ
3. âœ… **å‰ç«¯æ¶æ„å¸ˆ** - è®¾è®¡ Feature-Sliced Design æ–¹æ¡ˆ
4. âœ… **æµ‹è¯•æ¶æ„å¸ˆ** - è®¾è®¡ tests_white/ å’Œ tests_black/ ç»“æ„
5. âœ… **æ–‡ä»¶æ¸…ç†ä¸“å®¶** - ç”Ÿæˆæ–‡ä»¶æ¸…ç†æ¸…å•
6. âœ… **æŠ€æœ¯æ–‡æ¡£ä¸“å®¶** - æ±‡æ€»ç”Ÿæˆå®Œæ•´è¿ç§»æŒ‡å—

---

**çŠ¶æ€**: ğŸŸ¡ å›¢é˜Ÿæˆå‘˜æ­£åœ¨å·¥ä½œä¸­,ç­‰å¾…è¯¦ç»†åˆ†ææŠ¥å‘Š...
